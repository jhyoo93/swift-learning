# Swift: 함수, 제네릭, 클로저

---  

## 1) 함수(Function) 

### 1.1 정의
- 특정 작업을 수행하는 코드 블록.
- 재사용성과 가독성을 높여줌.
- func 키워드 사용.


```swift

func greet(name: String) -> String {
    retrun "Hello, \(name)!"
}

print(greet(name: "재환") // Hello, 재환!

```

---

### 1.2 매개변수(Parameter)
- 기본값 가능
- 외부/내부 매개변수명 구분
- 가변 매개변수 사용 가능

```swift

func add(a: Int, b: Int = 10) -> Int {
    return a + b
}

func greet(_ name: String) {  // 외부 이름 생랼
    print("Hi, \(name)")
}

func sum(_ numbers: Int...) -> Int {
    numbers.reduce(0, +)
}

```

---

### 1.3 반환값(Return)
- 여러개 변환시 튜플 사용 가능

```swift

func minMax(array: [Int]) -> (min: Int, max: Int)? {
    guard let first = array.first else { return nil }
    var minValue = first, maxValue = first
    for value in array {
        if value < minValue { minValue = value }
        if value > maxValue { maxValue = value }
    }
    return (minValue, maxValue)
}

```

---

## 2) 제네릭(Generic) 

### 2.1 정의
- 타입에 의존하지 않고, 유연하고 재사용 가능한 코드 작성 가능.
- <>안에 타입 파라미터(T, U 등) 사용.

```swift

func swapValues<T>(_ a: inout T, _ b: inout T) {
    let temp = a
    a = b
    b = temp
}

var x = 5, y = 10
swapValues(&x, &y)
print(x, y) // 10, 5

```

---

### 2.2 제네릭 타입

```swift

struct Stack<Element> {
    private var items = [Element]()
    
    mutating func push(_ item: Element) {
        items.append(item)
    }
    
    mutating func pop() -> Element? {
        return items.popLast()
    }
}

var intStack = Stack<Int>()
intStack.push(3)
intStack.push(5)
print(intStack.pop()!) // 5

```

---

### 2.3 제네릭 제약(Constraints)
- where 또는 :로 프로토콜 제약 가능.

```swift

func printComparable<T: Comparable>(_ value1: T, _ value2: T) {
    print(value1 < value2)
}

```

---

## 3) 클로저(Closure)

### 3.1 정의
- 이름없는 익명 함수 블록.
- 주변의 변수를 캡처할 수 있음.
- 함수형 프로그래밍 스타일을 지원.

```swift

let greeting = { (name: String) -> String in
    return "Hello, \(name)"
}

print(greeting("World!")

``` 

---

### 3.2 클로저 축약 문범
- 매개변수 타입, 반환 타입 생략 가능.
- $0, $1 등 위치 기반 인자 사용.

```swift

let numbers = [3, 1, 4, 2]
let sorted = numbers.sorted { $0 < $1 }
print(sorted) // [1, 2, 3, 4]

```

---

### 3.3 탈출 클로저(Escaping Closure)
- 함수 실행이 끝난뒤에도 실행될 수 있는 클로저.
- @escaping 키워드 필요

```swift

var completionHandlers: [() -> Void] = []

func addHandler(_ handler: @escaping () -> Void) {
    completionHandlers.append(handler)
}

```

---

### 3.4 클로저와 캡처

```swift

func makeIncrementer(amount: Int) -> () -> Int {
    var total = 0
    let incrementer: () -> Int = {
        total += amount
        return total
    }
    return incrementer
}

let inc = makeIncrementer(amount: 2)
print(inc()) // 2
print(inc()) // 4

```

---

## 4) 요약

- **함수(Function)**: 작업 단위 코드, 재사용성과 가독성 ↑
- **제네릭(Generic)**: 타입에 독립적, 유연한 코드 작성 가능
- **클로저(Closure)**: 익명 함수, 변수 캡처 가능, 함수형 스타일 지원
