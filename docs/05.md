# Swift: mutating, Set, struct 메서드, 프로토콜

---  

## 1)  mutating

### 1.1 정의
- 구조체(struct)와 열거형(enum)은 값 타입이라 메서드 안에서 자기 속성을 직접 변경할 수 없음.
- 메서드 앞에 mutating을 붙이면 속성 변경이 가능해짐.
- 또한 self 전체를 새로운 값으로 대체할 수도 있다.

```swift

struct Counter {
    var count = 0
    
    mutating func increment() {
        count += 1
    }
}

var counter = Counter()
counter.increment()
print(counter.count) // 1

```

---

### 1.2 특징
- class(참조 타입)는 필요 없음. (mutating은 값 타입 전용)
- mutating 메서드는 자기 자신(self)도 새로 대입 가능.

---

## 2)  Set

### 2.1 정의
- 순서가 없고, 중복을 허용하지 않는 컬렉션 타입.
- 배열(Array)과 달리 고유한 값만 저장.
- 수학적 집합 연산(합집합, 교집합, 차집합) 지원.

```swift

var fruits: Set<String> = ["사과", "바나나", "딸기", "사과"]
print(fruits) // ["바나나", "딸기", "사과"] (중복 제거)

```

---

### 2.2 주요 메서드
- insert(_:) → 요소 추가
- remove(_:) → 요소 제거
- contains(_:) → 포함 여부 확인

```swift

var fruits: Set<String> = ["사과", "바나나", "딸기", "사과"]

// 요소 추가
fruits.insert("오렌지")

// 요소 제거
if let indexToRemove = fruits.firstIndex(of: "딸기") {
    fruits.remove(at: indexToRemove)
}

// 포함 여부 확인
fruits.contains("사과")

```

---

## 3) struct 메서드

### 3.1 인스턴스 메서드
- 구조체 안에서 정의된 일반 메서드.
- 인스턴스의 속성에 접근 가능.
- 단, 속성을 수정하려면 mutating 필요.

```swift

struct Person {
    var name: String
    var age: Int
    
    func introduce() {
        print("저는 \(name), \(age)살 입니다.")
    }
    
    mutating func haveBirthday() {
        age += 1
    }
}

```

---

### 3.2 타입 메서드
- 구조체 자체에 속하는 메서드(static 사용)
- 인스턴스 생성 없이 호출 가능.

```swift

struct Math {
    static func square(_ x: Int) -> Int {
        return x * x
    }
}

print(Math.square(4)) // 16

```

---

## 4) protocol

### 4.1 정의
- 규약(약속) → 특정 기능을 반드시 구현하도록 강제하는 인터페이스
- 클래스, 구조체, 열거형 모두 채택 가능.
- 반드시 선언된 요구사항(메서드, 프로퍼티 등)을 구현해야 함.

```swift

protocol Drivable {
    func drive()
}

struct Car: Drivable {
    func drive() {
        print("자동차가 달린다")
    }
}

```

---

## 5) 요약

- **mutating**: 값 타입의 메서드에서 속성 수정 가능하게 하는 키워드
- **Set**: 중복 불가, 순서 없음, 집합 연산 지원
- **struct 메서드**: 인스턴스 메서드 → 속성 접근 및 수정 (mutating 필요), 타입 메서드 → static 키워드, 인스턴스 없이 호출 가능
- **protocol**: 기능(규약) 정의, 클래스/구조체/열거형이 채택하여 구현
