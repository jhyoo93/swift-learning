# Swift: (생성자, 해제자), 상속, 딕셔너리

---  

## 1) 생성자(Initializer)

### 1.1 정의
- 클래스, 구조체, 열거형의 인스턴스가 생성될 때 호출되는 특수 메서드.
- 인스턴스의 저장 프로퍼티 초기화 역할을 함.
- init 키워드 사용

```swift

struct Person {
    var name: String
    var age: Int
    
    // 생성자
    init(name: String, age: Int) {
        self.name = name
        self.age = age
    }
}

let p1 = Person(name: "철수", age: 28)

```

---

### 1.2 기본 생성자(Default Initializer)
- 모든 프로퍼티에 기본값이 있으면 자동으로 제공

```swift

struct User {
    var id: Int = 0
    var nickname: String = "Guest"
}

let u1 = User()  // 기본 생성자 사용 가능

```

---

### 1.3 멤버와이즈 생성자(Memberwise Initializer)
- struct에서 자동으로 제공되는 생성자.
- 모든 저장 프로퍼티를 초기화할 수 있음.

```swift

struct Point {
    var x: Int
    var y: Int
}

let p = Point(x: 10, y: 20) // 멤버와이즈 생성자

```

---

### 1.4 편의 생성자(Convenience Initializer)
- class에서만 사용.
- convenience init 키워드 사용.
- 지정 생성자(Designated Initializer) 를 보조하는 역할.

```swift

class Animal {
    var name: String
    
    // 지정 생성자
    init(name: String) {
        self.name = name
    }
    
    // 편의 생성자
    convenience init() {
        self.init(name: "Unknown")
    }
}

let a1 = Animal(name: "Dog")
let a2 = Animal()  // "Unknown"

```

---

## 2) 해제자(Deinitializer)

### 2.1 정의
- 클래스 인스턴스가 메모리에서 해체(deinit) 될 때 자동 호출.
- deinit 키워드 사용.
- 클래스에서만 사용 가능(구조체, 열거형 X)

```swift

class FileHandler {
    init() {
        print("파일 열기")
    }
    
    deinit {
        print("파일 닫기")
    }
}

var handler: FileHandler? = FileHandler()
handler = nil // "파일 닫기" 출력

```

---

## 3) 상속(Inheritance)

### 3.1 정의
- 클래스에서만 지원.
- 기존 클래스(슈퍼클래스)를 기반으로 새로운 클래스(서브클래스)를 정의.
- override 키워드를 사용하여 메서드, 프로퍼티 재정의 가능. 

```swift

class Vehicle {
    var currentSpeed = 0.0
    func description() -> String {
        return "속도: \(currentSpeed)"
    }
}

class Car: Vehicle {
    var gear = 1
    
    override func description() -> String {
        return super.description() + ", 기어: \(gear)"
    }
}

let car = Car()
car.currentSpeed = 80
car.gear = 3
print(car.description()) // 속도: 80.0, 기어: 3

```

---

### 3.2 상속 규칭
- 서브클래스는 슈퍼클래스의 프로퍼티, 메서드, 서브스크립트를 상속.
- override 키워드 필수.
- final 키워드: 상속 금지.

```swift

final class Animal {}  // 더 이상 상속 불가

```

---

### 3.3 생성자와 상속
- 서브클래스에서 모든 저장 프로퍼티 초기화 보장 필요.
- 필요시 super.init(...) 호출.

```swift

class Person {
    var name: String
    init(name: String) {
        self.name = name
    }
}

class Student: Person {
    var grade: Int
    init(name: String, grade: Int) {
        self.grade = grade
        super.init(name: name) // 부모 생성자 호출
    }
}

```

---

## 4) 딕셔너리(Dictionary)

### 4.1 정의
- **키(key)와 값(value)**의 쌍으로 이루어진 컬렉션 타입.
- 키는 고유(unique) 해야 하며, 주로 Hashable 타입이 사용됨.
- 순서가 없고, 키를 이용해 값에 빠르게 접근 가능

```swift

var scores: [String: Int] = ["현수": 90, "지민": 85, "철수": 70]

// 값 읽기
print(scores["현수"]!)   // 90
print(scores["민수"])    // nil (없는 키)

// 값 추가/수정
scores["민수"] = 95   // 새 키 추가
scores["현수"] = 100 // 기존 값 수정

// 값 삭제
scores["철수"] = nil
scores.removeValue(forKey: "지민")

// 반복문
for (name, score) in scores {
    print("\(name): \(score)")
}

```

---

### 4.2 주요속성 및 메서드
- count: 요소 개수
- isEmpty: 비어있는지 여부
- keys: 모든 키
- values: 모든 값

---

### 4.3 Dictionary 활용
- 기본값 제공하기 (?? 연산자)

```swift

var scores: [String: Int] = ["현수": 90, "지민": 85, "철수": 70]

let minsuScore = scores["민수"] ?? 0
print(minsuScore) // 키가 없으면 0 반환

scores.updateValue(80, forKey: "지민")

```

---

## 4) 요약

- **생성자(Initializer)**: 인스턴스 초기화 시 호출, init, convenience init, super.init
- **해제자(Deinitializer)**: 클래스 인스턴스 메모리 해제 시 호출, deinit
- **상속(Inheritance)**: 클래스에서만 가능, override로 재정의, final로 상속 제한
- **딕셔너리(Dictionary)**: 키-값 쌍 저장, 키는 고유해야 함, 옵셔널 반환 처리 필요 (??, updateValue, removeValue)
